ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.eabi_attribute 23, 1
   3              		.eabi_attribute 24, 1
   4              		.eabi_attribute 25, 1
   5              		.eabi_attribute 26, 1
   6              		.eabi_attribute 30, 4
   7              		.eabi_attribute 34, 0
   8              		.eabi_attribute 18, 4
   9              		.file	"file_upload.c"
  10              		.text
  11              	.Ltext0:
  12              		.cfi_sections	.debug_frame
  13              		.section	.text.function_xor.constprop.0,"ax",%progbits
  14              		.align	1
  15              		.arch armv6s-m
  16              		.syntax unified
  17              		.code	16
  18              		.thumb_func
  19              		.fpu softvfp
  21              	function_xor.constprop.0:
  22              	.LVL0:
  23              	.LFB21:
  24              		.file 1 "smtc_modem_core/modem_services/file_upload.c"
   1:smtc_modem_core/modem_services/file_upload.c **** /*!
   2:smtc_modem_core/modem_services/file_upload.c ****  * \file      file_upload.c
   3:smtc_modem_core/modem_services/file_upload.c ****  *
   4:smtc_modem_core/modem_services/file_upload.c ****  * \brief     File upload implementation
   5:smtc_modem_core/modem_services/file_upload.c ****  *
   6:smtc_modem_core/modem_services/file_upload.c ****  * Revised BSD License
   7:smtc_modem_core/modem_services/file_upload.c ****  * Copyright Semtech Corporation 2020. All rights reserved.
   8:smtc_modem_core/modem_services/file_upload.c ****  *
   9:smtc_modem_core/modem_services/file_upload.c ****  * Redistribution and use in source and binary forms, with or without
  10:smtc_modem_core/modem_services/file_upload.c ****  * modification, are permitted provided that the following conditions are met:
  11:smtc_modem_core/modem_services/file_upload.c ****  *     * Redistributions of source code must retain the above copyright
  12:smtc_modem_core/modem_services/file_upload.c ****  *       notice, this list of conditions and the following disclaimer.
  13:smtc_modem_core/modem_services/file_upload.c ****  *     * Redistributions in binary form must reproduce the above copyright
  14:smtc_modem_core/modem_services/file_upload.c ****  *       notice, this list of conditions and the following disclaimer in the
  15:smtc_modem_core/modem_services/file_upload.c ****  *       documentation and/or other materials provided with the distribution.
  16:smtc_modem_core/modem_services/file_upload.c ****  *     * Neither the name of the Semtech corporation nor the
  17:smtc_modem_core/modem_services/file_upload.c ****  *       names of its contributors may be used to endorse or promote products
  18:smtc_modem_core/modem_services/file_upload.c ****  *       derived from this software without specific prior written permission.
  19:smtc_modem_core/modem_services/file_upload.c ****  *
  20:smtc_modem_core/modem_services/file_upload.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  21:smtc_modem_core/modem_services/file_upload.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  22:smtc_modem_core/modem_services/file_upload.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  23:smtc_modem_core/modem_services/file_upload.c ****  * ARE DISCLAIMED. IN NO EVENT SHALL SEMTECH CORPORATION BE LIABLE FOR ANY DIRECT,
  24:smtc_modem_core/modem_services/file_upload.c ****  * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  25:smtc_modem_core/modem_services/file_upload.c ****  * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  26:smtc_modem_core/modem_services/file_upload.c ****  * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  27:smtc_modem_core/modem_services/file_upload.c ****  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  28:smtc_modem_core/modem_services/file_upload.c ****  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  29:smtc_modem_core/modem_services/file_upload.c ****  * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  30:smtc_modem_core/modem_services/file_upload.c ****  */
  31:smtc_modem_core/modem_services/file_upload.c **** 
  32:smtc_modem_core/modem_services/file_upload.c **** /*
  33:smtc_modem_core/modem_services/file_upload.c ****  * -----------------------------------------------------------------------------
  34:smtc_modem_core/modem_services/file_upload.c ****  * --- DEPENDENCIES ------------------------------------------------------------
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 2


  35:smtc_modem_core/modem_services/file_upload.c ****  */
  36:smtc_modem_core/modem_services/file_upload.c **** #include <stdint.h>   // C99 types
  37:smtc_modem_core/modem_services/file_upload.c **** #include <stdbool.h>  // bool type
  38:smtc_modem_core/modem_services/file_upload.c **** 
  39:smtc_modem_core/modem_services/file_upload.c **** #include "smtc_bsp.h"
  40:smtc_modem_core/modem_services/file_upload.c **** #include "file_upload.h"
  41:smtc_modem_core/modem_services/file_upload.c **** #include "device_management_defs.h"
  42:smtc_modem_core/modem_services/file_upload.c **** #include "modem_context.h"
  43:smtc_modem_core/modem_services/file_upload.c **** 
  44:smtc_modem_core/modem_services/file_upload.c **** /*
  45:smtc_modem_core/modem_services/file_upload.c ****  * -----------------------------------------------------------------------------
  46:smtc_modem_core/modem_services/file_upload.c ****  * --- PRIVATE TYPES -----------------------------------------------------------
  47:smtc_modem_core/modem_services/file_upload.c ****  */
  48:smtc_modem_core/modem_services/file_upload.c **** enum
  49:smtc_modem_core/modem_services/file_upload.c **** {
  50:smtc_modem_core/modem_services/file_upload.c ****     BUFSZ       = ( ( 2 * 4096 ) + FILE_UPLOAD_HEADER_SIZE ),  // buffer size + header
  51:smtc_modem_core/modem_services/file_upload.c ****     NSESS       = 1,                                           // number of concurrent sessions
  52:smtc_modem_core/modem_services/file_upload.c ****     CHUNK_NW    = 2,                                           // number of words per chunk
  53:smtc_modem_core/modem_services/file_upload.c ****     MAXOVERHEAD = 2,                                           // max factor of chunks to send
  54:smtc_modem_core/modem_services/file_upload.c **** };
  55:smtc_modem_core/modem_services/file_upload.c **** 
  56:smtc_modem_core/modem_services/file_upload.c **** /*
  57:smtc_modem_core/modem_services/file_upload.c ****  * -----------------------------------------------------------------------------
  58:smtc_modem_core/modem_services/file_upload.c ****  * --- PRIVATE VARIABLES -------------------------------------------------------
  59:smtc_modem_core/modem_services/file_upload.c ****  */
  60:smtc_modem_core/modem_services/file_upload.c **** static struct
  61:smtc_modem_core/modem_services/file_upload.c **** {
  62:smtc_modem_core/modem_services/file_upload.c ****     uint32_t  active;  // active session
  63:smtc_modem_core/modem_services/file_upload.c ****     uint32_t  header[3];
  64:smtc_modem_core/modem_services/file_upload.c ****     uint32_t* wordbuf;                 // data buffer
  65:smtc_modem_core/modem_services/file_upload.c ****     uint16_t  cct[NSESS];              // chunk count
  66:smtc_modem_core/modem_services/file_upload.c ****     uint8_t   session_counter[NSESS];  // session counter
  67:smtc_modem_core/modem_services/file_upload.c ****     uint16_t  cntx[NSESS];             // chunk transmission count
  68:smtc_modem_core/modem_services/file_upload.c ****     uint8_t   fntx[NSESS];             // frame transmission count
  69:smtc_modem_core/modem_services/file_upload.c ****     uint16_t  average_delay[NSESS];    // average frame transmission rate/delay
  70:smtc_modem_core/modem_services/file_upload.c **** 
  71:smtc_modem_core/modem_services/file_upload.c **** } state;
  72:smtc_modem_core/modem_services/file_upload.c **** 
  73:smtc_modem_core/modem_services/file_upload.c **** /*
  74:smtc_modem_core/modem_services/file_upload.c ****  * -----------------------------------------------------------------------------
  75:smtc_modem_core/modem_services/file_upload.c ****  * --- PRIVATE FUNCTIONS DEFINITION --------------------------------------------
  76:smtc_modem_core/modem_services/file_upload.c ****  */
  77:smtc_modem_core/modem_services/file_upload.c **** 
  78:smtc_modem_core/modem_services/file_upload.c **** // 32bit pseudo hash
  79:smtc_modem_core/modem_services/file_upload.c **** static uint32_t phash( uint32_t x )
  80:smtc_modem_core/modem_services/file_upload.c **** {
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
  82:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
  83:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x );
  84:smtc_modem_core/modem_services/file_upload.c ****     return x;
  85:smtc_modem_core/modem_services/file_upload.c **** }
  86:smtc_modem_core/modem_services/file_upload.c **** 
  87:smtc_modem_core/modem_services/file_upload.c **** static uint32_t checkbits( uint32_t cid, uint32_t cct, uint32_t i )
  88:smtc_modem_core/modem_services/file_upload.c **** {
  89:smtc_modem_core/modem_services/file_upload.c ****     uint32_t ncw = ( cct + 31 ) >> 5;  // number of checkwords per chunk
  90:smtc_modem_core/modem_services/file_upload.c ****     return phash( cid * ncw + i );
  91:smtc_modem_core/modem_services/file_upload.c **** }
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 3


  92:smtc_modem_core/modem_services/file_upload.c **** 
  93:smtc_modem_core/modem_services/file_upload.c **** static void function_xor( uint32_t* dst, uint32_t* src, int32_t nw )
  25              		.loc 1 93 13 view -0
  26              		.cfi_startproc
  27              		@ args = 0, pretend = 0, frame = 0
  28              		@ frame_needed = 0, uses_anonymous_args = 0
  29              		@ link register save eliminated.
  94:smtc_modem_core/modem_services/file_upload.c **** {
  95:smtc_modem_core/modem_services/file_upload.c ****     while( nw-- > 0 )
  30              		.loc 1 95 5 view .LVU1
  31              		.loc 1 95 10 view .LVU2
  96:smtc_modem_core/modem_services/file_upload.c ****     {
  97:smtc_modem_core/modem_services/file_upload.c ****         *dst++ ^= *src++;
  32              		.loc 1 97 9 view .LVU3
  33              		.loc 1 97 16 is_stmt 0 view .LVU4
  34 0000 0A68     		ldr	r2, [r1]
  35 0002 0368     		ldr	r3, [r0]
  98:smtc_modem_core/modem_services/file_upload.c ****     }
  99:smtc_modem_core/modem_services/file_upload.c **** }
  36              		.loc 1 99 1 view .LVU5
  37              		@ sp needed
  97:smtc_modem_core/modem_services/file_upload.c ****     }
  38              		.loc 1 97 16 view .LVU6
  39 0004 5340     		eors	r3, r2
  40 0006 0360     		str	r3, [r0]
  95:smtc_modem_core/modem_services/file_upload.c ****     {
  41              		.loc 1 95 10 is_stmt 1 view .LVU7
  42              	.LVL1:
  97:smtc_modem_core/modem_services/file_upload.c ****     }
  43              		.loc 1 97 9 view .LVU8
  97:smtc_modem_core/modem_services/file_upload.c ****     }
  44              		.loc 1 97 16 is_stmt 0 view .LVU9
  45 0008 4B68     		ldr	r3, [r1, #4]
  46 000a 4268     		ldr	r2, [r0, #4]
  47 000c 5340     		eors	r3, r2
  48 000e 4360     		str	r3, [r0, #4]
  95:smtc_modem_core/modem_services/file_upload.c ****     {
  49              		.loc 1 95 10 is_stmt 1 view .LVU10
  50              	.LVL2:
  51              		.loc 1 99 1 is_stmt 0 view .LVU11
  52 0010 7047     		bx	lr
  53              		.cfi_endproc
  54              	.LFE21:
  56              		.section	.text.file_upload_gen_uplink,"ax",%progbits
  57              		.align	1
  58              		.global	file_upload_gen_uplink
  59              		.syntax unified
  60              		.code	16
  61              		.thumb_func
  62              		.fpu softvfp
  64              	file_upload_gen_uplink:
  65              	.LVL3:
  66              	.LFB14:
 100:smtc_modem_core/modem_services/file_upload.c **** 
 101:smtc_modem_core/modem_services/file_upload.c **** static int32_t next_session_counter( uint32_t sid )
 102:smtc_modem_core/modem_services/file_upload.c **** {
 103:smtc_modem_core/modem_services/file_upload.c ****     uint32_t tmp = modem_get_dm_upload_sctr( ) + 1;
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 4


 104:smtc_modem_core/modem_services/file_upload.c ****     modem_set_dm_upload_sctr( tmp );
 105:smtc_modem_core/modem_services/file_upload.c ****     int32_t next = ( int8_t ) modem_get_dm_upload_sctr( );
 106:smtc_modem_core/modem_services/file_upload.c ****     return next;
 107:smtc_modem_core/modem_services/file_upload.c **** }
 108:smtc_modem_core/modem_services/file_upload.c **** 
 109:smtc_modem_core/modem_services/file_upload.c **** static void gen_chunk( uint32_t* dst, uint32_t* src, uint32_t cct, uint32_t cid )
 110:smtc_modem_core/modem_services/file_upload.c **** {
 111:smtc_modem_core/modem_services/file_upload.c ****     memset( dst, 0, CHUNK_NW * 4 );
 112:smtc_modem_core/modem_services/file_upload.c ****     uint32_t bits = 0;  // initialized to make compiler happy
 113:smtc_modem_core/modem_services/file_upload.c ****     for( uint32_t i = 0; i < cct; i++ )
 114:smtc_modem_core/modem_services/file_upload.c ****     {
 115:smtc_modem_core/modem_services/file_upload.c ****         if( ( i & 31 ) == 0 )
 116:smtc_modem_core/modem_services/file_upload.c ****         {
 117:smtc_modem_core/modem_services/file_upload.c ****             bits = checkbits( cid, cct, i >> 5 );
 118:smtc_modem_core/modem_services/file_upload.c ****         }
 119:smtc_modem_core/modem_services/file_upload.c ****         if( bits == 0 )
 120:smtc_modem_core/modem_services/file_upload.c ****         {
 121:smtc_modem_core/modem_services/file_upload.c ****             continue;
 122:smtc_modem_core/modem_services/file_upload.c ****         }
 123:smtc_modem_core/modem_services/file_upload.c ****         if( bits & 1 )
 124:smtc_modem_core/modem_services/file_upload.c ****         {
 125:smtc_modem_core/modem_services/file_upload.c ****             if( i == 0 )
 126:smtc_modem_core/modem_services/file_upload.c ****             {
 127:smtc_modem_core/modem_services/file_upload.c ****                 uint32_t tmp[2];
 128:smtc_modem_core/modem_services/file_upload.c ****                 tmp[0] = state.header[0];
 129:smtc_modem_core/modem_services/file_upload.c ****                 tmp[1] = state.header[1];
 130:smtc_modem_core/modem_services/file_upload.c ****                 function_xor( dst, tmp, CHUNK_NW );
 131:smtc_modem_core/modem_services/file_upload.c ****             }
 132:smtc_modem_core/modem_services/file_upload.c ****             else if( i == 1 )
 133:smtc_modem_core/modem_services/file_upload.c ****             {
 134:smtc_modem_core/modem_services/file_upload.c ****                 uint32_t tmp[2];
 135:smtc_modem_core/modem_services/file_upload.c ****                 tmp[0] = state.header[2];
 136:smtc_modem_core/modem_services/file_upload.c ****                 tmp[1] = *( src );
 137:smtc_modem_core/modem_services/file_upload.c ****                 function_xor( dst, tmp, CHUNK_NW );
 138:smtc_modem_core/modem_services/file_upload.c ****             }
 139:smtc_modem_core/modem_services/file_upload.c ****             else
 140:smtc_modem_core/modem_services/file_upload.c ****             {
 141:smtc_modem_core/modem_services/file_upload.c ****                 function_xor( dst, src + ( CHUNK_NW * i ) - 3, CHUNK_NW );
 142:smtc_modem_core/modem_services/file_upload.c ****             }
 143:smtc_modem_core/modem_services/file_upload.c ****         }
 144:smtc_modem_core/modem_services/file_upload.c ****         bits >>= 1;
 145:smtc_modem_core/modem_services/file_upload.c ****     }
 146:smtc_modem_core/modem_services/file_upload.c **** }
 147:smtc_modem_core/modem_services/file_upload.c **** 
 148:smtc_modem_core/modem_services/file_upload.c **** /*
 149:smtc_modem_core/modem_services/file_upload.c ****  * -----------------------------------------------------------------------------
 150:smtc_modem_core/modem_services/file_upload.c ****  * --- PUBLIC FUNCTIONS DEFINITION ---------------------------------------------
 151:smtc_modem_core/modem_services/file_upload.c ****  */
 152:smtc_modem_core/modem_services/file_upload.c **** 
 153:smtc_modem_core/modem_services/file_upload.c **** int32_t file_upload_gen_uplink( unsigned char* buf, int32_t bufsz, uint32_t sid, uint32_t fcnt )
 154:smtc_modem_core/modem_services/file_upload.c **** {
  67              		.loc 1 154 1 is_stmt 1 view -0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 56
  70              		@ frame_needed = 0, uses_anonymous_args = 0
 155:smtc_modem_core/modem_services/file_upload.c ****     if( ( bufsz -= 3 ) < ( CHUNK_NW * 4 ) )
  71              		.loc 1 155 5 view .LVU13
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 5


 154:smtc_modem_core/modem_services/file_upload.c ****     if( ( bufsz -= 3 ) < ( CHUNK_NW * 4 ) )
  72              		.loc 1 154 1 is_stmt 0 view .LVU14
  73 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  74              		.cfi_def_cfa_offset 20
  75              		.cfi_offset 4, -20
  76              		.cfi_offset 5, -16
  77              		.cfi_offset 6, -12
  78              		.cfi_offset 7, -8
  79              		.cfi_offset 14, -4
  80 0002 1400     		movs	r4, r2
  81              		.loc 1 155 17 view .LVU15
  82 0004 0A00     		movs	r2, r1
  83              	.LVL4:
 154:smtc_modem_core/modem_services/file_upload.c ****     if( ( bufsz -= 3 ) < ( CHUNK_NW * 4 ) )
  84              		.loc 1 154 1 view .LVU16
  85 0006 8FB0     		sub	sp, sp, #60
  86              		.cfi_def_cfa_offset 80
  87              		.loc 1 155 17 view .LVU17
  88 0008 033A     		subs	r2, r2, #3
 154:smtc_modem_core/modem_services/file_upload.c ****     if( ( bufsz -= 3 ) < ( CHUNK_NW * 4 ) )
  89              		.loc 1 154 1 view .LVU18
  90 000a 0290     		str	r0, [sp, #8]
  91 000c 0591     		str	r1, [sp, #20]
  92              		.loc 1 155 17 view .LVU19
  93 000e 0192     		str	r2, [sp, #4]
  94              	.LVL5:
  95              		.loc 1 155 7 view .LVU20
  96 0010 072A     		cmp	r2, #7
  97 0012 02DC     		bgt	.L3
  98              	.LVL6:
  99              	.L14:
 156:smtc_modem_core/modem_services/file_upload.c ****     {
 157:smtc_modem_core/modem_services/file_upload.c ****         return 0;
 100              		.loc 1 157 16 view .LVU21
 101 0014 0020     		movs	r0, #0
 102              	.L2:
 158:smtc_modem_core/modem_services/file_upload.c ****     }
 159:smtc_modem_core/modem_services/file_upload.c ****     // discriminator (16bit little endian): 2bit session id, 4bit session counter, 10bit chunk coun
 160:smtc_modem_core/modem_services/file_upload.c ****     uint32_t d = ( ( sid & 0x03 ) << 14 ) | ( ( state.session_counter[sid] & 0x0F ) << 10 ) |
 161:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 162:smtc_modem_core/modem_services/file_upload.c ****     int32_t n     = 0;
 163:smtc_modem_core/modem_services/file_upload.c ****     buf[n++]      = e_inf_upload;
 164:smtc_modem_core/modem_services/file_upload.c ****     buf[n++]      = d;
 165:smtc_modem_core/modem_services/file_upload.c ****     buf[n++]      = d >> 8;
 166:smtc_modem_core/modem_services/file_upload.c ****     uint32_t  cid = phash( fcnt );
 167:smtc_modem_core/modem_services/file_upload.c ****     uint32_t* src = &state.wordbuf[0];
 168:smtc_modem_core/modem_services/file_upload.c **** 
 169:smtc_modem_core/modem_services/file_upload.c ****     while( bufsz >= ( CHUNK_NW * 4 ) )
 170:smtc_modem_core/modem_services/file_upload.c ****     {
 171:smtc_modem_core/modem_services/file_upload.c ****         uint32_t tmp[CHUNK_NW];
 172:smtc_modem_core/modem_services/file_upload.c ****         gen_chunk( tmp, src, state.cct[sid], cid++ );
 173:smtc_modem_core/modem_services/file_upload.c ****         memcpy( buf + n, tmp, CHUNK_NW * 4 );
 174:smtc_modem_core/modem_services/file_upload.c ****         n += ( CHUNK_NW * 4 );
 175:smtc_modem_core/modem_services/file_upload.c ****         bufsz -= ( CHUNK_NW * 4 );
 176:smtc_modem_core/modem_services/file_upload.c ****     }
 177:smtc_modem_core/modem_services/file_upload.c ****     state.cntx[sid] += ( n - 3 ) / ( CHUNK_NW * 4 );  // update number of chunks sent
 178:smtc_modem_core/modem_services/file_upload.c ****     if( state.fntx[sid] < 255 )
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 6


 179:smtc_modem_core/modem_services/file_upload.c ****     {
 180:smtc_modem_core/modem_services/file_upload.c ****         state.fntx[sid] += 1;  // update number of frames sent
 181:smtc_modem_core/modem_services/file_upload.c ****     }
 182:smtc_modem_core/modem_services/file_upload.c ****     if( ( state.fntx[sid] < 3 ) || ( state.cntx[sid] < ( 2 * state.cct[sid] ) ) )
 183:smtc_modem_core/modem_services/file_upload.c ****     {
 184:smtc_modem_core/modem_services/file_upload.c ****         return n;
 185:smtc_modem_core/modem_services/file_upload.c ****     }
 186:smtc_modem_core/modem_services/file_upload.c ****     else
 187:smtc_modem_core/modem_services/file_upload.c ****     {
 188:smtc_modem_core/modem_services/file_upload.c ****         return 0;
 189:smtc_modem_core/modem_services/file_upload.c ****     }
 190:smtc_modem_core/modem_services/file_upload.c **** }
 103              		.loc 1 190 1 view .LVU22
 104 0016 0FB0     		add	sp, sp, #60
 105              		@ sp needed
 106 0018 F0BD     		pop	{r4, r5, r6, r7, pc}
 107              	.LVL7:
 108              	.L3:
 160:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 109              		.loc 1 160 5 is_stmt 1 view .LVU23
 160:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 110              		.loc 1 160 70 is_stmt 0 view .LVU24
 111 001a 504D     		ldr	r5, .L25
 161:smtc_modem_core/modem_services/file_upload.c ****     int32_t n     = 0;
 112              		.loc 1 161 31 view .LVU25
 113 001c 2100     		movs	r1, r4
 160:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 114              		.loc 1 160 70 view .LVU26
 115 001e 2A19     		adds	r2, r5, r4
 116              	.LVL8:
 160:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 117              		.loc 1 160 85 view .LVU27
 118 0020 907D     		ldrb	r0, [r2, #22]
 119              	.LVL9:
 160:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 120              		.loc 1 160 85 view .LVU28
 121 0022 F022     		movs	r2, #240
 161:smtc_modem_core/modem_services/file_upload.c ****     int32_t n     = 0;
 122              		.loc 1 161 31 view .LVU29
 123 0024 0831     		adds	r1, r1, #8
 124 0026 4900     		lsls	r1, r1, #1
 160:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 125              		.loc 1 160 85 view .LVU30
 126 0028 9201     		lsls	r2, r2, #6
 161:smtc_modem_core/modem_services/file_upload.c ****     int32_t n     = 0;
 127              		.loc 1 161 31 view .LVU31
 128 002a 6918     		adds	r1, r5, r1
 160:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 129              		.loc 1 160 85 view .LVU32
 130 002c 8002     		lsls	r0, r0, #10
 131 002e 1040     		ands	r0, r2
 161:smtc_modem_core/modem_services/file_upload.c ****     int32_t n     = 0;
 132              		.loc 1 161 31 view .LVU33
 133 0030 8A88     		ldrh	r2, [r1, #4]
 163:smtc_modem_core/modem_services/file_upload.c ****     buf[n++]      = d;
 134              		.loc 1 163 19 view .LVU34
 135 0032 029E     		ldr	r6, [sp, #8]
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 7


 161:smtc_modem_core/modem_services/file_upload.c ****     int32_t n     = 0;
 136              		.loc 1 161 37 view .LVU35
 137 0034 013A     		subs	r2, r2, #1
 161:smtc_modem_core/modem_services/file_upload.c ****     int32_t n     = 0;
 138              		.loc 1 161 43 view .LVU36
 139 0036 9205     		lsls	r2, r2, #22
 140 0038 920D     		lsrs	r2, r2, #22
 160:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 141              		.loc 1 160 14 view .LVU37
 142 003a 0243     		orrs	r2, r0
 160:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 143              		.loc 1 160 35 view .LVU38
 144 003c A007     		lsls	r0, r4, #30
 145 003e 000C     		lsrs	r0, r0, #16
 160:smtc_modem_core/modem_services/file_upload.c ****                  ( ( state.cct[sid] - 1 ) & 0x03FF );
 146              		.loc 1 160 14 view .LVU39
 147 0040 0243     		orrs	r2, r0
 148              	.LVL10:
 162:smtc_modem_core/modem_services/file_upload.c ****     buf[n++]      = e_inf_upload;
 149              		.loc 1 162 5 is_stmt 1 view .LVU40
 163:smtc_modem_core/modem_services/file_upload.c ****     buf[n++]      = d;
 150              		.loc 1 163 5 view .LVU41
 163:smtc_modem_core/modem_services/file_upload.c ****     buf[n++]      = d;
 151              		.loc 1 163 19 is_stmt 0 view .LVU42
 152 0042 0E20     		movs	r0, #14
 164:smtc_modem_core/modem_services/file_upload.c ****     buf[n++]      = d >> 8;
 153              		.loc 1 164 19 view .LVU43
 154 0044 7270     		strb	r2, [r6, #1]
 165:smtc_modem_core/modem_services/file_upload.c ****     uint32_t  cid = phash( fcnt );
 155              		.loc 1 165 23 view .LVU44
 156 0046 120A     		lsrs	r2, r2, #8
 157              	.LVL11:
 163:smtc_modem_core/modem_services/file_upload.c ****     buf[n++]      = d;
 158              		.loc 1 163 19 view .LVU45
 159 0048 3070     		strb	r0, [r6]
 164:smtc_modem_core/modem_services/file_upload.c ****     buf[n++]      = d >> 8;
 160              		.loc 1 164 5 is_stmt 1 view .LVU46
 161              	.LVL12:
 165:smtc_modem_core/modem_services/file_upload.c ****     uint32_t  cid = phash( fcnt );
 162              		.loc 1 165 5 view .LVU47
 165:smtc_modem_core/modem_services/file_upload.c ****     uint32_t  cid = phash( fcnt );
 163              		.loc 1 165 19 is_stmt 0 view .LVU48
 164 004a B270     		strb	r2, [r6, #2]
 166:smtc_modem_core/modem_services/file_upload.c ****     uint32_t* src = &state.wordbuf[0];
 165              		.loc 1 166 5 is_stmt 1 view .LVU49
 166              	.LVL13:
 167              	.LBB14:
 168              	.LBI14:
  79:smtc_modem_core/modem_services/file_upload.c **** {
 169              		.loc 1 79 17 view .LVU50
 170              	.LBB15:
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
 171              		.loc 1 81 5 view .LVU51
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
 172              		.loc 1 81 15 is_stmt 0 view .LVU52
 173 004c 180C     		lsrs	r0, r3, #16
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 8


 174              		.loc 1 81 7 view .LVU53
 175 004e 444A     		ldr	r2, .L25+4
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
 176              		.loc 1 81 23 view .LVU54
 177 0050 5840     		eors	r0, r3
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
 178              		.loc 1 81 7 view .LVU55
 179 0052 5043     		muls	r0, r2
 180              	.LVL14:
  82:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x );
 181              		.loc 1 82 5 is_stmt 1 view .LVU56
  82:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x );
 182              		.loc 1 82 15 is_stmt 0 view .LVU57
 183 0054 030C     		lsrs	r3, r0, #16
 184              	.LVL15:
  82:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x );
 185              		.loc 1 82 23 view .LVU58
 186 0056 4340     		eors	r3, r0
  82:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x );
 187              		.loc 1 82 7 view .LVU59
 188 0058 5343     		muls	r3, r2
 189              	.LVL16:
  83:smtc_modem_core/modem_services/file_upload.c ****     return x;
 190              		.loc 1 83 5 is_stmt 1 view .LVU60
  83:smtc_modem_core/modem_services/file_upload.c ****     return x;
 191              		.loc 1 83 15 is_stmt 0 view .LVU61
 192 005a 180C     		lsrs	r0, r3, #16
  83:smtc_modem_core/modem_services/file_upload.c ****     return x;
 193              		.loc 1 83 7 view .LVU62
 194 005c 4340     		eors	r3, r0
 195              	.LVL17:
  83:smtc_modem_core/modem_services/file_upload.c ****     return x;
 196              		.loc 1 83 7 view .LVU63
 197              	.LBE15:
 198              	.LBE14:
 167:smtc_modem_core/modem_services/file_upload.c **** 
 199              		.loc 1 167 15 view .LVU64
 200 005e 2F69     		ldr	r7, [r5, #16]
 201              	.LBB17:
 202              	.LBB16:
  83:smtc_modem_core/modem_services/file_upload.c ****     return x;
 203              		.loc 1 83 7 view .LVU65
 204 0060 0393     		str	r3, [sp, #12]
 205              	.LVL18:
  84:smtc_modem_core/modem_services/file_upload.c **** }
 206              		.loc 1 84 5 is_stmt 1 view .LVU66
  84:smtc_modem_core/modem_services/file_upload.c **** }
 207              		.loc 1 84 5 is_stmt 0 view .LVU67
 208              	.LBE16:
 209              	.LBE17:
 167:smtc_modem_core/modem_services/file_upload.c **** 
 210              		.loc 1 167 5 is_stmt 1 view .LVU68
 169:smtc_modem_core/modem_services/file_upload.c ****     {
 211              		.loc 1 169 5 view .LVU69
 169:smtc_modem_core/modem_services/file_upload.c ****     {
 212              		.loc 1 169 10 view .LVU70
 213 0062 0792     		str	r2, [sp, #28]
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 9


 214              	.LBB18:
 172:smtc_modem_core/modem_services/file_upload.c ****         memcpy( buf + n, tmp, CHUNK_NW * 4 );
 215              		.loc 1 172 39 is_stmt 0 view .LVU71
 216 0064 0991     		str	r1, [sp, #36]
 217              	.LVL19:
 218              	.L12:
 171:smtc_modem_core/modem_services/file_upload.c ****         gen_chunk( tmp, src, state.cct[sid], cid++ );
 219              		.loc 1 171 9 is_stmt 1 view .LVU72
 172:smtc_modem_core/modem_services/file_upload.c ****         memcpy( buf + n, tmp, CHUNK_NW * 4 );
 220              		.loc 1 172 9 view .LVU73
 221              	.LBB19:
 222              	.LBB20:
 223              	.LBB21:
 113:smtc_modem_core/modem_services/file_upload.c ****     {
 224              		.loc 1 113 19 is_stmt 0 view .LVU74
 225 0066 0026     		movs	r6, #0
 226              	.LBE21:
 227              	.LBE20:
 228              	.LBE19:
 172:smtc_modem_core/modem_services/file_upload.c ****         memcpy( buf + n, tmp, CHUNK_NW * 4 );
 229              		.loc 1 172 9 view .LVU75
 230 0068 099B     		ldr	r3, [sp, #36]
 231              	.LBB40:
 232              	.LBB36:
 111:smtc_modem_core/modem_services/file_upload.c ****     uint32_t bits = 0;  // initialized to make compiler happy
 233              		.loc 1 111 5 view .LVU76
 234 006a 0822     		movs	r2, #8
 235              	.LBE36:
 236              	.LBE40:
 172:smtc_modem_core/modem_services/file_upload.c ****         memcpy( buf + n, tmp, CHUNK_NW * 4 );
 237              		.loc 1 172 9 view .LVU77
 238 006c 9B88     		ldrh	r3, [r3, #4]
 239              	.LBB41:
 240              	.LBB37:
 111:smtc_modem_core/modem_services/file_upload.c ****     uint32_t bits = 0;  // initialized to make compiler happy
 241              		.loc 1 111 5 view .LVU78
 242 006e 0021     		movs	r1, #0
 243 0070 0AA8     		add	r0, sp, #40
 244 0072 039D     		ldr	r5, [sp, #12]
 245              	.LBE37:
 246              	.LBE41:
 172:smtc_modem_core/modem_services/file_upload.c ****         memcpy( buf + n, tmp, CHUNK_NW * 4 );
 247              		.loc 1 172 9 view .LVU79
 248 0074 0693     		str	r3, [sp, #24]
 249              	.LVL20:
 250              	.LBB42:
 251              	.LBI19:
 109:smtc_modem_core/modem_services/file_upload.c **** {
 252              		.loc 1 109 13 is_stmt 1 view .LVU80
 253              	.LBB38:
 111:smtc_modem_core/modem_services/file_upload.c ****     uint32_t bits = 0;  // initialized to make compiler happy
 254              		.loc 1 111 5 view .LVU81
 255 0076 FFF7FEFF 		bl	memset
 256              	.LVL21:
 112:smtc_modem_core/modem_services/file_upload.c ****     for( uint32_t i = 0; i < cct; i++ )
 257              		.loc 1 112 5 view .LVU82
 113:smtc_modem_core/modem_services/file_upload.c ****     {
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 10


 258              		.loc 1 113 5 view .LVU83
 259              	.LBB33:
 113:smtc_modem_core/modem_services/file_upload.c ****     {
 260              		.loc 1 113 10 view .LVU84
 261              	.LBB22:
 262              	.LBB23:
  89:smtc_modem_core/modem_services/file_upload.c ****     return phash( cid * ncw + i );
 263              		.loc 1 89 26 is_stmt 0 view .LVU85
 264 007a 069B     		ldr	r3, [sp, #24]
 265 007c 1F33     		adds	r3, r3, #31
  89:smtc_modem_core/modem_services/file_upload.c ****     return phash( cid * ncw + i );
 266              		.loc 1 89 14 view .LVU86
 267 007e 5B09     		lsrs	r3, r3, #5
  90:smtc_modem_core/modem_services/file_upload.c **** }
 268              		.loc 1 90 23 view .LVU87
 269 0080 5D43     		muls	r5, r3
 270 0082 039B     		ldr	r3, [sp, #12]
 271 0084 0895     		str	r5, [sp, #32]
 272 0086 0133     		adds	r3, r3, #1
 273 0088 0393     		str	r3, [sp, #12]
 274              	.LVL22:
  90:smtc_modem_core/modem_services/file_upload.c **** }
 275              		.loc 1 90 23 view .LVU88
 276 008a 3B00     		movs	r3, r7
 277              	.LBE23:
 278              	.LBE22:
 279              	.LBE33:
 112:smtc_modem_core/modem_services/file_upload.c ****     for( uint32_t i = 0; i < cct; i++ )
 280              		.loc 1 112 14 view .LVU89
 281 008c 3500     		movs	r5, r6
 282 008e 0C3B     		subs	r3, r3, #12
 283 0090 0493     		str	r3, [sp, #16]
 284              	.LVL23:
 285              	.L5:
 286              	.LBB34:
 113:smtc_modem_core/modem_services/file_upload.c ****     {
 287              		.loc 1 113 26 is_stmt 1 view .LVU90
 113:smtc_modem_core/modem_services/file_upload.c ****     {
 288              		.loc 1 113 5 is_stmt 0 view .LVU91
 289 0092 069B     		ldr	r3, [sp, #24]
 290 0094 B342     		cmp	r3, r6
 291 0096 2BD8     		bhi	.L11
 292              	.LVL24:
 113:smtc_modem_core/modem_services/file_upload.c ****     {
 293              		.loc 1 113 5 view .LVU92
 294              	.LBE34:
 295              	.LBE38:
 296              	.LBE42:
 173:smtc_modem_core/modem_services/file_upload.c ****         n += ( CHUNK_NW * 4 );
 297              		.loc 1 173 9 is_stmt 1 view .LVU93
 298 0098 029B     		ldr	r3, [sp, #8]
 299 009a 059A     		ldr	r2, [sp, #20]
 300 009c 0AA9     		add	r1, sp, #40
 301 009e 9818     		adds	r0, r3, r2
 302 00a0 019B     		ldr	r3, [sp, #4]
 303 00a2 0822     		movs	r2, #8
 304 00a4 C01A     		subs	r0, r0, r3
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 11


 305 00a6 FFF7FEFF 		bl	memcpy
 306              	.LVL25:
 174:smtc_modem_core/modem_services/file_upload.c ****         bufsz -= ( CHUNK_NW * 4 );
 307              		.loc 1 174 9 view .LVU94
 175:smtc_modem_core/modem_services/file_upload.c ****     }
 308              		.loc 1 175 9 view .LVU95
 175:smtc_modem_core/modem_services/file_upload.c ****     }
 309              		.loc 1 175 15 is_stmt 0 view .LVU96
 310 00aa 019B     		ldr	r3, [sp, #4]
 311 00ac 083B     		subs	r3, r3, #8
 312 00ae 0193     		str	r3, [sp, #4]
 313              	.LVL26:
 175:smtc_modem_core/modem_services/file_upload.c ****     }
 314              		.loc 1 175 15 view .LVU97
 315              	.LBE18:
 169:smtc_modem_core/modem_services/file_upload.c ****     {
 316              		.loc 1 169 10 is_stmt 1 view .LVU98
 317 00b0 072B     		cmp	r3, #7
 318 00b2 D8DC     		bgt	.L12
 319 00b4 0599     		ldr	r1, [sp, #20]
 177:smtc_modem_core/modem_services/file_upload.c ****     if( state.fntx[sid] < 255 )
 320              		.loc 1 177 21 is_stmt 0 view .LVU99
 321 00b6 2200     		movs	r2, r4
 322 00b8 0B39     		subs	r1, r1, #11
 323 00ba C908     		lsrs	r1, r1, #3
 324 00bc C900     		lsls	r1, r1, #3
 177:smtc_modem_core/modem_services/file_upload.c ****     if( state.fntx[sid] < 255 )
 325              		.loc 1 177 28 view .LVU100
 326 00be 0B00     		movs	r3, r1
 327              	.LVL27:
 177:smtc_modem_core/modem_services/file_upload.c ****     if( state.fntx[sid] < 255 )
 328              		.loc 1 177 28 view .LVU101
 329 00c0 0800     		movs	r0, r1
 177:smtc_modem_core/modem_services/file_upload.c ****     if( state.fntx[sid] < 255 )
 330              		.loc 1 177 21 view .LVU102
 331 00c2 264D     		ldr	r5, .L25
 332 00c4 0C32     		adds	r2, r2, #12
 333 00c6 5200     		lsls	r2, r2, #1
 334 00c8 515B     		ldrh	r1, [r2, r5]
 177:smtc_modem_core/modem_services/file_upload.c ****     if( state.fntx[sid] < 255 )
 335              		.loc 1 177 28 view .LVU103
 336 00ca 0833     		adds	r3, r3, #8
 177:smtc_modem_core/modem_services/file_upload.c ****     if( state.fntx[sid] < 255 )
 337              		.loc 1 177 34 view .LVU104
 338 00cc DB10     		asrs	r3, r3, #3
 177:smtc_modem_core/modem_services/file_upload.c ****     if( state.fntx[sid] < 255 )
 339              		.loc 1 177 21 view .LVU105
 340 00ce 5B18     		adds	r3, r3, r1
 341 00d0 9BB2     		uxth	r3, r3
 342 00d2 5353     		strh	r3, [r2, r5]
 178:smtc_modem_core/modem_services/file_upload.c ****     {
 343              		.loc 1 178 19 view .LVU106
 344 00d4 2A19     		adds	r2, r5, r4
 345 00d6 917E     		ldrb	r1, [r2, #26]
 346 00d8 0B30     		adds	r0, r0, #11
 177:smtc_modem_core/modem_services/file_upload.c ****     if( state.fntx[sid] < 255 )
 347              		.loc 1 177 5 is_stmt 1 view .LVU107
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 12


 178:smtc_modem_core/modem_services/file_upload.c ****     {
 348              		.loc 1 178 5 view .LVU108
 178:smtc_modem_core/modem_services/file_upload.c ****     {
 349              		.loc 1 178 7 is_stmt 0 view .LVU109
 350 00da FF29     		cmp	r1, #255
 351 00dc 36D1     		bne	.L13
 352              	.L15:
 182:smtc_modem_core/modem_services/file_upload.c ****     {
 353              		.loc 1 182 71 view .LVU110
 354 00de 0834     		adds	r4, r4, #8
 355              	.LVL28:
 182:smtc_modem_core/modem_services/file_upload.c ****     {
 356              		.loc 1 182 71 view .LVU111
 357 00e0 6400     		lsls	r4, r4, #1
 358              	.LVL29:
 182:smtc_modem_core/modem_services/file_upload.c ****     {
 359              		.loc 1 182 71 view .LVU112
 360 00e2 2C19     		adds	r4, r5, r4
 361 00e4 A288     		ldrh	r2, [r4, #4]
 182:smtc_modem_core/modem_services/file_upload.c ****     {
 362              		.loc 1 182 60 view .LVU113
 363 00e6 5200     		lsls	r2, r2, #1
 182:smtc_modem_core/modem_services/file_upload.c ****     {
 364              		.loc 1 182 33 view .LVU114
 365 00e8 9342     		cmp	r3, r2
 366 00ea 00DA     		bge	.LCB331
 367 00ec 93E7     		b	.L2	@long jump
 368              	.LCB331:
 369 00ee 91E7     		b	.L14
 370              	.LVL30:
 371              	.L11:
 372              	.LBB44:
 373              	.LBB43:
 374              	.LBB39:
 375              	.LBB35:
 115:smtc_modem_core/modem_services/file_upload.c ****         {
 376              		.loc 1 115 9 is_stmt 1 view .LVU115
 115:smtc_modem_core/modem_services/file_upload.c ****         {
 377              		.loc 1 115 11 is_stmt 0 view .LVU116
 378 00f0 1F23     		movs	r3, #31
 379 00f2 1E42     		tst	r6, r3
 380 00f4 0BD1     		bne	.L6
 117:smtc_modem_core/modem_services/file_upload.c ****         }
 381              		.loc 1 117 13 is_stmt 1 view .LVU117
 382              	.LVL31:
 383              	.LBB28:
 384              	.LBI22:
  87:smtc_modem_core/modem_services/file_upload.c **** {
 385              		.loc 1 87 17 view .LVU118
 386              	.LBB26:
  89:smtc_modem_core/modem_services/file_upload.c ****     return phash( cid * ncw + i );
 387              		.loc 1 89 5 view .LVU119
  90:smtc_modem_core/modem_services/file_upload.c **** }
 388              		.loc 1 90 5 view .LVU120
  90:smtc_modem_core/modem_services/file_upload.c **** }
 389              		.loc 1 90 12 is_stmt 0 view .LVU121
 390 00f6 089A     		ldr	r2, [sp, #32]
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 13


 391              	.LBE26:
 392              	.LBE28:
 117:smtc_modem_core/modem_services/file_upload.c ****         }
 393              		.loc 1 117 20 view .LVU122
 394 00f8 7309     		lsrs	r3, r6, #5
 395              	.LVL32:
 396              	.LBB29:
 397              	.LBB27:
  90:smtc_modem_core/modem_services/file_upload.c **** }
 398              		.loc 1 90 12 view .LVU123
 399 00fa 9B18     		adds	r3, r3, r2
 400              	.LVL33:
 401              	.LBB24:
 402              	.LBI24:
  79:smtc_modem_core/modem_services/file_upload.c **** {
 403              		.loc 1 79 17 is_stmt 1 view .LVU124
 404              	.LBB25:
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
 405              		.loc 1 81 5 view .LVU125
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
 406              		.loc 1 81 15 is_stmt 0 view .LVU126
 407 00fc 1D0C     		lsrs	r5, r3, #16
 408              	.LVL34:
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
 409              		.loc 1 81 7 view .LVU127
 410 00fe 079A     		ldr	r2, [sp, #28]
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
 411              		.loc 1 81 23 view .LVU128
 412 0100 6B40     		eors	r3, r5
 413              	.LVL35:
  81:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x ) * 0x45d9f3b;
 414              		.loc 1 81 7 view .LVU129
 415 0102 5343     		muls	r3, r2
 416              	.LVL36:
  82:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x );
 417              		.loc 1 82 5 is_stmt 1 view .LVU130
  82:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x );
 418              		.loc 1 82 15 is_stmt 0 view .LVU131
 419 0104 1D0C     		lsrs	r5, r3, #16
  82:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x );
 420              		.loc 1 82 23 view .LVU132
 421 0106 5D40     		eors	r5, r3
  82:smtc_modem_core/modem_services/file_upload.c ****     x = ( ( x >> 16 ) ^ x );
 422              		.loc 1 82 7 view .LVU133
 423 0108 5543     		muls	r5, r2
 424              	.LVL37:
  83:smtc_modem_core/modem_services/file_upload.c ****     return x;
 425              		.loc 1 83 5 is_stmt 1 view .LVU134
  83:smtc_modem_core/modem_services/file_upload.c ****     return x;
 426              		.loc 1 83 15 is_stmt 0 view .LVU135
 427 010a 2B0C     		lsrs	r3, r5, #16
  83:smtc_modem_core/modem_services/file_upload.c ****     return x;
 428              		.loc 1 83 7 view .LVU136
 429 010c 5D40     		eors	r5, r3
 430              	.LVL38:
  84:smtc_modem_core/modem_services/file_upload.c **** }
 431              		.loc 1 84 5 is_stmt 1 view .LVU137
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 14


 432              	.L6:
  84:smtc_modem_core/modem_services/file_upload.c **** }
 433              		.loc 1 84 5 is_stmt 0 view .LVU138
 434              	.LBE25:
 435              	.LBE24:
 436              	.LBE27:
 437              	.LBE29:
 119:smtc_modem_core/modem_services/file_upload.c ****         {
 438              		.loc 1 119 9 is_stmt 1 view .LVU139
 119:smtc_modem_core/modem_services/file_upload.c ****         {
 439              		.loc 1 119 11 is_stmt 0 view .LVU140
 440 010e 002D     		cmp	r5, #0
 441 0110 0ED0     		beq	.L7
 123:smtc_modem_core/modem_services/file_upload.c ****         {
 442              		.loc 1 123 9 is_stmt 1 view .LVU141
 123:smtc_modem_core/modem_services/file_upload.c ****         {
 443              		.loc 1 123 11 is_stmt 0 view .LVU142
 444 0112 0123     		movs	r3, #1
 445 0114 1D42     		tst	r5, r3
 446 0116 0AD0     		beq	.L8
 125:smtc_modem_core/modem_services/file_upload.c ****             {
 447              		.loc 1 125 13 is_stmt 1 view .LVU143
 125:smtc_modem_core/modem_services/file_upload.c ****             {
 448              		.loc 1 125 15 is_stmt 0 view .LVU144
 449 0118 002E     		cmp	r6, #0
 450 011a 0ED1     		bne	.L9
 451              	.LBB30:
 127:smtc_modem_core/modem_services/file_upload.c ****                 tmp[0] = state.header[0];
 452              		.loc 1 127 17 is_stmt 1 view .LVU145
 128:smtc_modem_core/modem_services/file_upload.c ****                 tmp[1] = state.header[1];
 453              		.loc 1 128 17 view .LVU146
 129:smtc_modem_core/modem_services/file_upload.c ****                 function_xor( dst, tmp, CHUNK_NW );
 454              		.loc 1 129 17 view .LVU147
 128:smtc_modem_core/modem_services/file_upload.c ****                 tmp[1] = state.header[1];
 455              		.loc 1 128 38 is_stmt 0 view .LVU148
 456 011c 0F4B     		ldr	r3, .L25
 457 011e 9A68     		ldr	r2, [r3, #8]
 128:smtc_modem_core/modem_services/file_upload.c ****                 tmp[1] = state.header[1];
 458              		.loc 1 128 24 view .LVU149
 459 0120 5B68     		ldr	r3, [r3, #4]
 460 0122 0D92     		str	r2, [sp, #52]
 130:smtc_modem_core/modem_services/file_upload.c ****             }
 461              		.loc 1 130 17 is_stmt 1 view .LVU150
 128:smtc_modem_core/modem_services/file_upload.c ****                 tmp[1] = state.header[1];
 462              		.loc 1 128 24 is_stmt 0 view .LVU151
 463 0124 0C93     		str	r3, [sp, #48]
 464              	.L24:
 465              	.LBE30:
 466              	.LBB31:
 137:smtc_modem_core/modem_services/file_upload.c ****             }
 467              		.loc 1 137 17 is_stmt 1 view .LVU152
 468 0126 0CA9     		add	r1, sp, #48
 469              	.L23:
 470              	.LBE31:
 141:smtc_modem_core/modem_services/file_upload.c ****             }
 471              		.loc 1 141 17 is_stmt 0 view .LVU153
 472 0128 0AA8     		add	r0, sp, #40
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 15


 473              	.LVL39:
 141:smtc_modem_core/modem_services/file_upload.c ****             }
 474              		.loc 1 141 17 view .LVU154
 475 012a FFF7FEFF 		bl	function_xor.constprop.0
 476              	.LVL40:
 477              	.L8:
 144:smtc_modem_core/modem_services/file_upload.c ****     }
 478              		.loc 1 144 9 is_stmt 1 view .LVU155
 144:smtc_modem_core/modem_services/file_upload.c ****     }
 479              		.loc 1 144 14 is_stmt 0 view .LVU156
 480 012e 6D08     		lsrs	r5, r5, #1
 481              	.LVL41:
 482              	.L7:
 113:smtc_modem_core/modem_services/file_upload.c ****     {
 483              		.loc 1 113 35 is_stmt 1 view .LVU157
 484 0130 049B     		ldr	r3, [sp, #16]
 113:smtc_modem_core/modem_services/file_upload.c ****     {
 485              		.loc 1 113 36 is_stmt 0 view .LVU158
 486 0132 0136     		adds	r6, r6, #1
 487              	.LVL42:
 113:smtc_modem_core/modem_services/file_upload.c ****     {
 488              		.loc 1 113 36 view .LVU159
 489 0134 0833     		adds	r3, r3, #8
 490 0136 0493     		str	r3, [sp, #16]
 491 0138 ABE7     		b	.L5
 492              	.L9:
 132:smtc_modem_core/modem_services/file_upload.c ****             {
 493              		.loc 1 132 18 is_stmt 1 view .LVU160
 141:smtc_modem_core/modem_services/file_upload.c ****             }
 494              		.loc 1 141 17 is_stmt 0 view .LVU161
 495 013a 0499     		ldr	r1, [sp, #16]
 132:smtc_modem_core/modem_services/file_upload.c ****             {
 496              		.loc 1 132 20 view .LVU162
 497 013c 012E     		cmp	r6, #1
 498 013e F3D1     		bne	.L23
 499              	.LBB32:
 134:smtc_modem_core/modem_services/file_upload.c ****                 tmp[0] = state.header[2];
 500              		.loc 1 134 17 is_stmt 1 view .LVU163
 135:smtc_modem_core/modem_services/file_upload.c ****                 tmp[1] = *( src );
 501              		.loc 1 135 17 view .LVU164
 136:smtc_modem_core/modem_services/file_upload.c ****                 function_xor( dst, tmp, CHUNK_NW );
 502              		.loc 1 136 17 view .LVU165
 135:smtc_modem_core/modem_services/file_upload.c ****                 tmp[1] = *( src );
 503              		.loc 1 135 38 is_stmt 0 view .LVU166
 504 0140 064B     		ldr	r3, .L25
 135:smtc_modem_core/modem_services/file_upload.c ****                 tmp[1] = *( src );
 505              		.loc 1 135 24 view .LVU167
 506 0142 DB68     		ldr	r3, [r3, #12]
 507 0144 0C93     		str	r3, [sp, #48]
 136:smtc_modem_core/modem_services/file_upload.c ****                 function_xor( dst, tmp, CHUNK_NW );
 508              		.loc 1 136 24 view .LVU168
 509 0146 3B68     		ldr	r3, [r7]
 510 0148 0D93     		str	r3, [sp, #52]
 511 014a ECE7     		b	.L24
 512              	.LVL43:
 513              	.L13:
 136:smtc_modem_core/modem_services/file_upload.c ****                 function_xor( dst, tmp, CHUNK_NW );
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 16


 514              		.loc 1 136 24 view .LVU169
 515              	.LBE32:
 516              	.LBE35:
 517              	.LBE39:
 518              	.LBE43:
 519              	.LBE44:
 180:smtc_modem_core/modem_services/file_upload.c ****     }
 520              		.loc 1 180 9 is_stmt 1 view .LVU170
 180:smtc_modem_core/modem_services/file_upload.c ****     }
 521              		.loc 1 180 25 is_stmt 0 view .LVU171
 522 014c 0131     		adds	r1, r1, #1
 523 014e C9B2     		uxtb	r1, r1
 524 0150 9176     		strb	r1, [r2, #26]
 182:smtc_modem_core/modem_services/file_upload.c ****     {
 525              		.loc 1 182 5 is_stmt 1 view .LVU172
 182:smtc_modem_core/modem_services/file_upload.c ****     {
 526              		.loc 1 182 7 is_stmt 0 view .LVU173
 527 0152 0229     		cmp	r1, #2
 528 0154 00D8     		bhi	.LCB513
 529 0156 5EE7     		b	.L2	@long jump
 530              	.LCB513:
 531 0158 C1E7     		b	.L15
 532              	.L26:
 533 015a C046     		.align	2
 534              	.L25:
 535 015c 00000000 		.word	.LANCHOR0
 536 0160 3B9F5D04 		.word	73244475
 537              		.cfi_endproc
 538              	.LFE14:
 540              		.section	.rodata.file_upload_create.str1.1,"aMS",%progbits,1
 541              	.LC1:
 542 0000 1B5B303B 		.ascii	"\033[0;31m\000"
 542      33316D00 
 543              	.LC3:
 544 0008 4552524F 		.ascii	"ERROR: \000"
 544      523A2000 
 545              	.LC5:
 546 0010 46696C65 		.ascii	"FileUpload is too large (%d < %lu )\012\000"
 546      55706C6F 
 546      61642069 
 546      7320746F 
 546      6F206C61 
 547              	.LC7:
 548 0035 1B5B306D 		.ascii	"\033[0m\000"
 548      00
 549              	.LC10:
 550 003a 1B5B303B 		.ascii	"\033[0;33m\000"
 550      33336D00 
 551              	.LC12:
 552 0042 5741524E 		.ascii	"WARN : \000"
 552      203A2000 
 553              	.LC14:
 554 004a 75706C6F 		.ascii	"upload session_counter %d\012\000"
 554      61642073 
 554      65737369 
 554      6F6E5F63 
 554      6F756E74 
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 17


 555              		.section	.text.file_upload_create,"ax",%progbits
 556              		.align	1
 557              		.global	file_upload_create
 558              		.syntax unified
 559              		.code	16
 560              		.thumb_func
 561              		.fpu softvfp
 563              	file_upload_create:
 564              	.LVL44:
 565              	.LFB15:
 191:smtc_modem_core/modem_services/file_upload.c **** 
 192:smtc_modem_core/modem_services/file_upload.c **** int32_t file_upload_create( uint32_t sid, uint32_t** pdata, uint32_t sz, uint16_t average_delay, ui
 193:smtc_modem_core/modem_services/file_upload.c ****                             uint8_t encryption )
 194:smtc_modem_core/modem_services/file_upload.c **** {
 566              		.loc 1 194 1 is_stmt 1 view -0
 567              		.cfi_startproc
 568              		@ args = 8, pretend = 0, frame = 16
 569              		@ frame_needed = 0, uses_anonymous_args = 0
 195:smtc_modem_core/modem_services/file_upload.c ****     uint16_t sz_tmp = sz + FILE_UPLOAD_HEADER_SIZE;
 570              		.loc 1 195 5 view .LVU175
 194:smtc_modem_core/modem_services/file_upload.c ****     uint16_t sz_tmp = sz + FILE_UPLOAD_HEADER_SIZE;
 571              		.loc 1 194 1 is_stmt 0 view .LVU176
 572 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 573              		.cfi_def_cfa_offset 20
 574              		.cfi_offset 4, -20
 575              		.cfi_offset 5, -16
 576              		.cfi_offset 6, -12
 577              		.cfi_offset 7, -8
 578              		.cfi_offset 14, -4
 579 0002 1500     		movs	r5, r2
 580              		.loc 1 195 14 view .LVU177
 581 0004 2E00     		movs	r6, r5
 194:smtc_modem_core/modem_services/file_upload.c ****     uint16_t sz_tmp = sz + FILE_UPLOAD_HEADER_SIZE;
 582              		.loc 1 194 1 view .LVU178
 583 0006 85B0     		sub	sp, sp, #20
 584              		.cfi_def_cfa_offset 40
 194:smtc_modem_core/modem_services/file_upload.c ****     uint16_t sz_tmp = sz + FILE_UPLOAD_HEADER_SIZE;
 585              		.loc 1 194 1 view .LVU179
 586 0008 0AAA     		add	r2, sp, #40
 587              	.LVL45:
 194:smtc_modem_core/modem_services/file_upload.c ****     uint16_t sz_tmp = sz + FILE_UPLOAD_HEADER_SIZE;
 588              		.loc 1 194 1 view .LVU180
 589 000a 1278     		ldrb	r2, [r2]
 590              	.LVL46:
 591              		.loc 1 195 14 view .LVU181
 592 000c 0C36     		adds	r6, r6, #12
 194:smtc_modem_core/modem_services/file_upload.c ****     uint16_t sz_tmp = sz + FILE_UPLOAD_HEADER_SIZE;
 593              		.loc 1 194 1 view .LVU182
 594 000e 0292     		str	r2, [sp, #8]
 595 0010 0BAA     		add	r2, sp, #44
 596              	.LVL47:
 194:smtc_modem_core/modem_services/file_upload.c ****     uint16_t sz_tmp = sz + FILE_UPLOAD_HEADER_SIZE;
 597              		.loc 1 194 1 view .LVU183
 598 0012 1278     		ldrb	r2, [r2]
 599              	.LVL48:
 600              		.loc 1 195 14 view .LVU184
 601 0014 B6B2     		uxth	r6, r6
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 18


 602              	.LVL49:
 196:smtc_modem_core/modem_services/file_upload.c ****     uint32_t cct    = ( sz_tmp + ( ( 4 * CHUNK_NW ) - 1 ) ) / ( 4 * CHUNK_NW );
 603              		.loc 1 196 5 is_stmt 1 view .LVU185
 194:smtc_modem_core/modem_services/file_upload.c ****     uint16_t sz_tmp = sz + FILE_UPLOAD_HEADER_SIZE;
 604              		.loc 1 194 1 is_stmt 0 view .LVU186
 605 0016 0392     		str	r2, [sp, #12]
 197:smtc_modem_core/modem_services/file_upload.c ****     if( BUFSZ < sz_tmp )
 606              		.loc 1 197 7 view .LVU187
 607 0018 274A     		ldr	r2, .L30
 196:smtc_modem_core/modem_services/file_upload.c ****     uint32_t cct    = ( sz_tmp + ( ( 4 * CHUNK_NW ) - 1 ) ) / ( 4 * CHUNK_NW );
 608              		.loc 1 196 32 view .LVU188
 609 001a F11D     		adds	r1, r6, #7
 610              	.LVL50:
 194:smtc_modem_core/modem_services/file_upload.c ****     uint16_t sz_tmp = sz + FILE_UPLOAD_HEADER_SIZE;
 611              		.loc 1 194 1 view .LVU189
 612 001c 0400     		movs	r4, r0
 613 001e 274F     		ldr	r7, .L30+4
 196:smtc_modem_core/modem_services/file_upload.c ****     uint32_t cct    = ( sz_tmp + ( ( 4 * CHUNK_NW ) - 1 ) ) / ( 4 * CHUNK_NW );
 614              		.loc 1 196 61 view .LVU190
 615 0020 C910     		asrs	r1, r1, #3
 616              	.LVL51:
 617              		.loc 1 197 5 is_stmt 1 view .LVU191
 618              		.loc 1 197 7 is_stmt 0 view .LVU192
 619 0022 9642     		cmp	r6, r2
 620 0024 12D9     		bls	.L28
 198:smtc_modem_core/modem_services/file_upload.c ****     {
 199:smtc_modem_core/modem_services/file_upload.c ****         BSP_DBG_TRACE_ERROR( "FileUpload is too large (%d < %lu )\n", BUFSZ - 12, sz_tmp );
 621              		.loc 1 199 9 is_stmt 1 view .LVU193
 622              		.loc 1 199 9 view .LVU194
 623 0026 2648     		ldr	r0, .L30+8
 624              	.LVL52:
 625              		.loc 1 199 9 is_stmt 0 view .LVU195
 626 0028 FFF7FEFF 		bl	bsp_trace_print
 627              	.LVL53:
 628              		.loc 1 199 9 is_stmt 1 view .LVU196
 629 002c 2548     		ldr	r0, .L30+12
 630 002e FFF7FEFF 		bl	bsp_trace_print
 631              	.LVL54:
 632              		.loc 1 199 9 view .LVU197
 633 0032 8021     		movs	r1, #128
 634 0034 3200     		movs	r2, r6
 635 0036 2448     		ldr	r0, .L30+16
 636 0038 8901     		lsls	r1, r1, #6
 637 003a FFF7FEFF 		bl	bsp_trace_print
 638              	.LVL55:
 639              		.loc 1 199 9 view .LVU198
 640 003e 3800     		movs	r0, r7
 641 0040 FFF7FEFF 		bl	bsp_trace_print
 642              	.LVL56:
 643              		.loc 1 199 9 view .LVU199
 644              		.loc 1 199 91 view .LVU200
 200:smtc_modem_core/modem_services/file_upload.c ****         return -1;
 645              		.loc 1 200 9 view .LVU201
 646              		.loc 1 200 16 is_stmt 0 view .LVU202
 647 0044 0120     		movs	r0, #1
 648 0046 4042     		rsbs	r0, r0, #0
 649              	.LVL57:
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 19


 650              	.L27:
 201:smtc_modem_core/modem_services/file_upload.c ****     }
 202:smtc_modem_core/modem_services/file_upload.c **** 
 203:smtc_modem_core/modem_services/file_upload.c ****     state.cct[sid]             = cct;
 204:smtc_modem_core/modem_services/file_upload.c ****     state.average_delay[sid]   = average_delay;
 205:smtc_modem_core/modem_services/file_upload.c ****     state.session_counter[sid] = next_session_counter( sid );
 206:smtc_modem_core/modem_services/file_upload.c ****     BSP_DBG_TRACE_WARNING( "upload session_counter %d\n", state.session_counter[sid] );
 207:smtc_modem_core/modem_services/file_upload.c ****     state.cntx[sid] = 0;
 208:smtc_modem_core/modem_services/file_upload.c ****     state.fntx[sid] = 0;
 209:smtc_modem_core/modem_services/file_upload.c **** 
 210:smtc_modem_core/modem_services/file_upload.c ****     state.header[0] = ( port ) + ( encryption << 8 ) + ( ( sz & 0xFF ) << 16 ) + ( ( ( sz & 0xFF00 
 211:smtc_modem_core/modem_services/file_upload.c **** 
 212:smtc_modem_core/modem_services/file_upload.c ****     return state.session_counter[sid];
 213:smtc_modem_core/modem_services/file_upload.c **** }
 651              		.loc 1 213 1 view .LVU203
 652 0048 05B0     		add	sp, sp, #20
 653              		@ sp needed
 654 004a F0BD     		pop	{r4, r5, r6, r7, pc}
 655              	.LVL58:
 656              	.L28:
 203:smtc_modem_core/modem_services/file_upload.c ****     state.average_delay[sid]   = average_delay;
 657              		.loc 1 203 5 is_stmt 1 view .LVU204
 203:smtc_modem_core/modem_services/file_upload.c ****     state.average_delay[sid]   = average_delay;
 658              		.loc 1 203 32 is_stmt 0 view .LVU205
 659 004c 0200     		movs	r2, r0
 660 004e 1F4E     		ldr	r6, .L30+20
 661              	.LVL59:
 203:smtc_modem_core/modem_services/file_upload.c ****     state.average_delay[sid]   = average_delay;
 662              		.loc 1 203 32 view .LVU206
 663 0050 0832     		adds	r2, r2, #8
 664 0052 5200     		lsls	r2, r2, #1
 665 0054 B218     		adds	r2, r6, r2
 666 0056 9180     		strh	r1, [r2, #4]
 204:smtc_modem_core/modem_services/file_upload.c ****     state.session_counter[sid] = next_session_counter( sid );
 667              		.loc 1 204 5 is_stmt 1 view .LVU207
 204:smtc_modem_core/modem_services/file_upload.c ****     state.session_counter[sid] = next_session_counter( sid );
 668              		.loc 1 204 32 is_stmt 0 view .LVU208
 669 0058 0200     		movs	r2, r0
 670 005a 0C32     		adds	r2, r2, #12
 671 005c 5200     		lsls	r2, r2, #1
 672 005e 0192     		str	r2, [sp, #4]
 673 0060 B218     		adds	r2, r6, r2
 674 0062 9380     		strh	r3, [r2, #4]
 205:smtc_modem_core/modem_services/file_upload.c ****     BSP_DBG_TRACE_WARNING( "upload session_counter %d\n", state.session_counter[sid] );
 675              		.loc 1 205 5 is_stmt 1 view .LVU209
 676              	.LBB47:
 677              	.LBI47:
 101:smtc_modem_core/modem_services/file_upload.c **** {
 678              		.loc 1 101 16 view .LVU210
 679              	.LVL60:
 680              	.LBB48:
 103:smtc_modem_core/modem_services/file_upload.c ****     modem_set_dm_upload_sctr( tmp );
 681              		.loc 1 103 5 view .LVU211
 103:smtc_modem_core/modem_services/file_upload.c ****     modem_set_dm_upload_sctr( tmp );
 682              		.loc 1 103 20 is_stmt 0 view .LVU212
 683 0064 FFF7FEFF 		bl	modem_get_dm_upload_sctr
 684              	.LVL61:
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 20


 104:smtc_modem_core/modem_services/file_upload.c ****     int32_t next = ( int8_t ) modem_get_dm_upload_sctr( );
 685              		.loc 1 104 5 is_stmt 1 view .LVU213
 686 0068 0130     		adds	r0, r0, #1
 687              	.LVL62:
 104:smtc_modem_core/modem_services/file_upload.c ****     int32_t next = ( int8_t ) modem_get_dm_upload_sctr( );
 688              		.loc 1 104 5 is_stmt 0 view .LVU214
 689 006a C0B2     		uxtb	r0, r0
 690 006c FFF7FEFF 		bl	modem_set_dm_upload_sctr
 691              	.LVL63:
 105:smtc_modem_core/modem_services/file_upload.c ****     return next;
 692              		.loc 1 105 5 is_stmt 1 view .LVU215
 105:smtc_modem_core/modem_services/file_upload.c ****     return next;
 693              		.loc 1 105 31 is_stmt 0 view .LVU216
 694 0070 FFF7FEFF 		bl	modem_get_dm_upload_sctr
 695              	.LVL64:
 106:smtc_modem_core/modem_services/file_upload.c **** }
 696              		.loc 1 106 5 is_stmt 1 view .LVU217
 106:smtc_modem_core/modem_services/file_upload.c **** }
 697              		.loc 1 106 5 is_stmt 0 view .LVU218
 698              	.LBE48:
 699              	.LBE47:
 205:smtc_modem_core/modem_services/file_upload.c ****     BSP_DBG_TRACE_WARNING( "upload session_counter %d\n", state.session_counter[sid] );
 700              		.loc 1 205 32 view .LVU219
 701 0074 3419     		adds	r4, r6, r4
 702              	.LVL65:
 205:smtc_modem_core/modem_services/file_upload.c ****     BSP_DBG_TRACE_WARNING( "upload session_counter %d\n", state.session_counter[sid] );
 703              		.loc 1 205 32 view .LVU220
 704 0076 A075     		strb	r0, [r4, #22]
 206:smtc_modem_core/modem_services/file_upload.c ****     state.cntx[sid] = 0;
 705              		.loc 1 206 5 is_stmt 1 view .LVU221
 206:smtc_modem_core/modem_services/file_upload.c ****     state.cntx[sid] = 0;
 706              		.loc 1 206 5 view .LVU222
 707 0078 1548     		ldr	r0, .L30+24
 708 007a FFF7FEFF 		bl	bsp_trace_print
 709              	.LVL66:
 206:smtc_modem_core/modem_services/file_upload.c ****     state.cntx[sid] = 0;
 710              		.loc 1 206 5 view .LVU223
 711 007e 1548     		ldr	r0, .L30+28
 712 0080 FFF7FEFF 		bl	bsp_trace_print
 713              	.LVL67:
 206:smtc_modem_core/modem_services/file_upload.c ****     state.cntx[sid] = 0;
 714              		.loc 1 206 5 view .LVU224
 715 0084 A17D     		ldrb	r1, [r4, #22]
 716 0086 1448     		ldr	r0, .L30+32
 717 0088 FFF7FEFF 		bl	bsp_trace_print
 718              	.LVL68:
 206:smtc_modem_core/modem_services/file_upload.c ****     state.cntx[sid] = 0;
 719              		.loc 1 206 5 view .LVU225
 720 008c 3800     		movs	r0, r7
 721 008e FFF7FEFF 		bl	bsp_trace_print
 722              	.LVL69:
 206:smtc_modem_core/modem_services/file_upload.c ****     state.cntx[sid] = 0;
 723              		.loc 1 206 5 view .LVU226
 206:smtc_modem_core/modem_services/file_upload.c ****     state.cntx[sid] = 0;
 724              		.loc 1 206 87 view .LVU227
 207:smtc_modem_core/modem_services/file_upload.c ****     state.fntx[sid] = 0;
 725              		.loc 1 207 5 view .LVU228
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 21


 207:smtc_modem_core/modem_services/file_upload.c ****     state.fntx[sid] = 0;
 726              		.loc 1 207 21 is_stmt 0 view .LVU229
 727 0092 0023     		movs	r3, #0
 728 0094 019A     		ldr	r2, [sp, #4]
 208:smtc_modem_core/modem_services/file_upload.c **** 
 729              		.loc 1 208 21 view .LVU230
 730 0096 A376     		strb	r3, [r4, #26]
 207:smtc_modem_core/modem_services/file_upload.c ****     state.fntx[sid] = 0;
 731              		.loc 1 207 21 view .LVU231
 732 0098 9353     		strh	r3, [r2, r6]
 208:smtc_modem_core/modem_services/file_upload.c **** 
 733              		.loc 1 208 5 is_stmt 1 view .LVU232
 210:smtc_modem_core/modem_services/file_upload.c **** 
 734              		.loc 1 210 5 view .LVU233
 210:smtc_modem_core/modem_services/file_upload.c **** 
 735              		.loc 1 210 72 is_stmt 0 view .LVU234
 736 009a FF22     		movs	r2, #255
 737 009c 2B04     		lsls	r3, r5, #16
 738 009e 1204     		lsls	r2, r2, #16
 210:smtc_modem_core/modem_services/file_upload.c **** 
 739              		.loc 1 210 102 view .LVU235
 740 00a0 2D0A     		lsrs	r5, r5, #8
 741              	.LVL70:
 210:smtc_modem_core/modem_services/file_upload.c **** 
 742              		.loc 1 210 72 view .LVU236
 743 00a2 1340     		ands	r3, r2
 210:smtc_modem_core/modem_services/file_upload.c **** 
 744              		.loc 1 210 109 view .LVU237
 745 00a4 2D06     		lsls	r5, r5, #24
 210:smtc_modem_core/modem_services/file_upload.c **** 
 746              		.loc 1 210 80 view .LVU238
 747 00a6 5D19     		adds	r5, r3, r5
 210:smtc_modem_core/modem_services/file_upload.c **** 
 748              		.loc 1 210 47 view .LVU239
 749 00a8 039B     		ldr	r3, [sp, #12]
 750 00aa 1A02     		lsls	r2, r3, #8
 210:smtc_modem_core/modem_services/file_upload.c **** 
 751              		.loc 1 210 32 view .LVU240
 752 00ac 029B     		ldr	r3, [sp, #8]
 753 00ae D218     		adds	r2, r2, r3
 210:smtc_modem_core/modem_services/file_upload.c **** 
 754              		.loc 1 210 80 view .LVU241
 755 00b0 AD18     		adds	r5, r5, r2
 210:smtc_modem_core/modem_services/file_upload.c **** 
 756              		.loc 1 210 21 view .LVU242
 757 00b2 7560     		str	r5, [r6, #4]
 212:smtc_modem_core/modem_services/file_upload.c **** }
 758              		.loc 1 212 5 is_stmt 1 view .LVU243
 212:smtc_modem_core/modem_services/file_upload.c **** }
 759              		.loc 1 212 33 is_stmt 0 view .LVU244
 760 00b4 A07D     		ldrb	r0, [r4, #22]
 761 00b6 C7E7     		b	.L27
 762              	.L31:
 763              		.align	2
 764              	.L30:
 765 00b8 0C200000 		.word	8204
 766 00bc 35000000 		.word	.LC7
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 22


 767 00c0 00000000 		.word	.LC1
 768 00c4 08000000 		.word	.LC3
 769 00c8 10000000 		.word	.LC5
 770 00cc 00000000 		.word	.LANCHOR0
 771 00d0 3A000000 		.word	.LC10
 772 00d4 42000000 		.word	.LC12
 773 00d8 4A000000 		.word	.LC14
 774              		.cfi_endproc
 775              	.LFE15:
 777              		.section	.text.file_upload_get_session_counter,"ax",%progbits
 778              		.align	1
 779              		.global	file_upload_get_session_counter
 780              		.syntax unified
 781              		.code	16
 782              		.thumb_func
 783              		.fpu softvfp
 785              	file_upload_get_session_counter:
 786              	.LVL71:
 787              	.LFB16:
 214:smtc_modem_core/modem_services/file_upload.c **** 
 215:smtc_modem_core/modem_services/file_upload.c **** uint8_t file_upload_get_session_counter( uint32_t sid )
 216:smtc_modem_core/modem_services/file_upload.c **** {
 788              		.loc 1 216 1 is_stmt 1 view -0
 789              		.cfi_startproc
 790              		@ args = 0, pretend = 0, frame = 0
 791              		@ frame_needed = 0, uses_anonymous_args = 0
 792              		@ link register save eliminated.
 217:smtc_modem_core/modem_services/file_upload.c ****     return ( state.session_counter[sid] );
 793              		.loc 1 217 5 view .LVU246
 794              		.loc 1 217 35 is_stmt 0 view .LVU247
 795 0000 014B     		ldr	r3, .L33
 218:smtc_modem_core/modem_services/file_upload.c **** }
 796              		.loc 1 218 1 view .LVU248
 797              		@ sp needed
 217:smtc_modem_core/modem_services/file_upload.c ****     return ( state.session_counter[sid] );
 798              		.loc 1 217 35 view .LVU249
 799 0002 1B18     		adds	r3, r3, r0
 800 0004 987D     		ldrb	r0, [r3, #22]
 801              	.LVL72:
 802              		.loc 1 218 1 view .LVU250
 803 0006 7047     		bx	lr
 804              	.L34:
 805              		.align	2
 806              	.L33:
 807 0008 00000000 		.word	.LANCHOR0
 808              		.cfi_endproc
 809              	.LFE16:
 811              		.section	.text.file_upload_set_hash,"ax",%progbits
 812              		.align	1
 813              		.global	file_upload_set_hash
 814              		.syntax unified
 815              		.code	16
 816              		.thumb_func
 817              		.fpu softvfp
 819              	file_upload_set_hash:
 820              	.LVL73:
 821              	.LFB17:
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 23


 219:smtc_modem_core/modem_services/file_upload.c **** void file_upload_set_hash( uint32_t hash0, uint32_t hash1 )
 220:smtc_modem_core/modem_services/file_upload.c **** {
 822              		.loc 1 220 1 is_stmt 1 view -0
 823              		.cfi_startproc
 824              		@ args = 0, pretend = 0, frame = 0
 825              		@ frame_needed = 0, uses_anonymous_args = 0
 826              		@ link register save eliminated.
 221:smtc_modem_core/modem_services/file_upload.c ****     state.header[1] = hash0;
 827              		.loc 1 221 5 view .LVU252
 828              		.loc 1 221 21 is_stmt 0 view .LVU253
 829 0000 014B     		ldr	r3, .L36
 222:smtc_modem_core/modem_services/file_upload.c ****     state.header[2] = hash1;
 223:smtc_modem_core/modem_services/file_upload.c **** }
 830              		.loc 1 223 1 view .LVU254
 831              		@ sp needed
 221:smtc_modem_core/modem_services/file_upload.c ****     state.header[1] = hash0;
 832              		.loc 1 221 21 view .LVU255
 833 0002 9860     		str	r0, [r3, #8]
 222:smtc_modem_core/modem_services/file_upload.c ****     state.header[2] = hash1;
 834              		.loc 1 222 5 is_stmt 1 view .LVU256
 222:smtc_modem_core/modem_services/file_upload.c ****     state.header[2] = hash1;
 835              		.loc 1 222 21 is_stmt 0 view .LVU257
 836 0004 D960     		str	r1, [r3, #12]
 837              		.loc 1 223 1 view .LVU258
 838 0006 7047     		bx	lr
 839              	.L37:
 840              		.align	2
 841              	.L36:
 842 0008 00000000 		.word	.LANCHOR0
 843              		.cfi_endproc
 844              	.LFE17:
 846              		.section	.text.file_upload_get_encryption_mode,"ax",%progbits
 847              		.align	1
 848              		.global	file_upload_get_encryption_mode
 849              		.syntax unified
 850              		.code	16
 851              		.thumb_func
 852              		.fpu softvfp
 854              	file_upload_get_encryption_mode:
 855              	.LFB18:
 224:smtc_modem_core/modem_services/file_upload.c **** file_upload_encrypt_mode_t file_upload_get_encryption_mode( void )
 225:smtc_modem_core/modem_services/file_upload.c **** {
 856              		.loc 1 225 1 is_stmt 1 view -0
 857              		.cfi_startproc
 858              		@ args = 0, pretend = 0, frame = 0
 859              		@ frame_needed = 0, uses_anonymous_args = 0
 860              		@ link register save eliminated.
 226:smtc_modem_core/modem_services/file_upload.c ****     return ( file_upload_encrypt_mode_t )( ( state.header[0] & 0x0000FF00 ) >> 8 );
 861              		.loc 1 226 5 view .LVU260
 862              		.loc 1 226 58 is_stmt 0 view .LVU261
 863 0000 024B     		ldr	r3, .L39
 227:smtc_modem_core/modem_services/file_upload.c **** }
 864              		.loc 1 227 1 view .LVU262
 865              		@ sp needed
 226:smtc_modem_core/modem_services/file_upload.c ****     return ( file_upload_encrypt_mode_t )( ( state.header[0] & 0x0000FF00 ) >> 8 );
 866              		.loc 1 226 77 view .LVU263
 867 0002 5868     		ldr	r0, [r3, #4]
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 24


 868 0004 000A     		lsrs	r0, r0, #8
 226:smtc_modem_core/modem_services/file_upload.c ****     return ( file_upload_encrypt_mode_t )( ( state.header[0] & 0x0000FF00 ) >> 8 );
 869              		.loc 1 226 12 view .LVU264
 870 0006 C0B2     		uxtb	r0, r0
 871              		.loc 1 227 1 view .LVU265
 872 0008 7047     		bx	lr
 873              	.L40:
 874 000a C046     		.align	2
 875              	.L39:
 876 000c 00000000 		.word	.LANCHOR0
 877              		.cfi_endproc
 878              	.LFE18:
 880              		.section	.text.file_upload_attach_payload_buffer,"ax",%progbits
 881              		.align	1
 882              		.global	file_upload_attach_payload_buffer
 883              		.syntax unified
 884              		.code	16
 885              		.thumb_func
 886              		.fpu softvfp
 888              	file_upload_attach_payload_buffer:
 889              	.LVL74:
 890              	.LFB19:
 228:smtc_modem_core/modem_services/file_upload.c **** void file_upload_attach_payload_buffer( uint8_t* file )
 229:smtc_modem_core/modem_services/file_upload.c **** {
 891              		.loc 1 229 1 is_stmt 1 view -0
 892              		.cfi_startproc
 893              		@ args = 0, pretend = 0, frame = 0
 894              		@ frame_needed = 0, uses_anonymous_args = 0
 895              		@ link register save eliminated.
 230:smtc_modem_core/modem_services/file_upload.c ****     state.wordbuf = ( uint32_t* ) file;
 896              		.loc 1 230 5 view .LVU267
 897              		.loc 1 230 19 is_stmt 0 view .LVU268
 898 0000 014B     		ldr	r3, .L42
 231:smtc_modem_core/modem_services/file_upload.c **** }
 899              		.loc 1 231 1 view .LVU269
 900              		@ sp needed
 230:smtc_modem_core/modem_services/file_upload.c ****     state.wordbuf = ( uint32_t* ) file;
 901              		.loc 1 230 19 view .LVU270
 902 0002 1861     		str	r0, [r3, #16]
 903              		.loc 1 231 1 view .LVU271
 904 0004 7047     		bx	lr
 905              	.L43:
 906 0006 C046     		.align	2
 907              	.L42:
 908 0008 00000000 		.word	.LANCHOR0
 909              		.cfi_endproc
 910              	.LFE19:
 912              		.section	.bss.state,"aw",%nobits
 913              		.align	2
 914              		.set	.LANCHOR0,. + 0
 917              	state:
 918 0000 00000000 		.space	32
 918      00000000 
 918      00000000 
 918      00000000 
 918      00000000 
 919              		.text
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 25


 920              	.Letext0:
 921              		.file 2 "/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.external
 922              		.file 3 "/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.external
 923              		.file 4 "/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.external
 924              		.file 5 "/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.external
 925              		.file 6 "/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.external
 926              		.file 7 "/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.external
 927              		.file 8 "smtc_modem_core/modem_services/file_upload.h"
 928              		.file 9 "smtc_modem_core/device_management/device_management_defs.h"
 929              		.file 10 "smtc_ral/src/ral_defs.h"
 930              		.file 11 "lr1mac/src/lr1mac_defs.h"
 931              		.file 12 "smtc_modem_core/device_management/modem_context.h"
 932              		.file 13 "smtc_bsp/smtc_bsp_mcu.h"
 933              		.file 14 "/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.externa
ARM GAS  /var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s 			page 26


DEFINED SYMBOLS
                            *ABS*:0000000000000000 file_upload.c
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:14     .text.function_xor.constprop.0:0000000000000000 $t
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:21     .text.function_xor.constprop.0:0000000000000000 function_xor.constprop.0
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:57     .text.file_upload_gen_uplink:0000000000000000 $t
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:64     .text.file_upload_gen_uplink:0000000000000000 file_upload_gen_uplink
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:535    .text.file_upload_gen_uplink:000000000000015c $d
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:556    .text.file_upload_create:0000000000000000 $t
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:563    .text.file_upload_create:0000000000000000 file_upload_create
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:765    .text.file_upload_create:00000000000000b8 $d
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:778    .text.file_upload_get_session_counter:0000000000000000 $t
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:785    .text.file_upload_get_session_counter:0000000000000000 file_upload_get_session_counter
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:807    .text.file_upload_get_session_counter:0000000000000008 $d
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:812    .text.file_upload_set_hash:0000000000000000 $t
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:819    .text.file_upload_set_hash:0000000000000000 file_upload_set_hash
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:842    .text.file_upload_set_hash:0000000000000008 $d
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:847    .text.file_upload_get_encryption_mode:0000000000000000 $t
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:854    .text.file_upload_get_encryption_mode:0000000000000000 file_upload_get_encryption_mode
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:876    .text.file_upload_get_encryption_mode:000000000000000c $d
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:881    .text.file_upload_attach_payload_buffer:0000000000000000 $t
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:888    .text.file_upload_attach_payload_buffer:0000000000000000 file_upload_attach_payload_buffer
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:908    .text.file_upload_attach_payload_buffer:0000000000000008 $d
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:913    .bss.state:0000000000000000 $d
/var/folders/bq/yv49bw8j2kd6w3hsq868qv180000gn/T//ccnvFBgn.s:917    .bss.state:0000000000000000 state

UNDEFINED SYMBOLS
memset
memcpy
bsp_trace_print
modem_get_dm_upload_sctr
modem_set_dm_upload_sctr
